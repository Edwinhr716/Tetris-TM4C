// SpaceInvaders.c
// Runs on LM4F120/TM4C123
// Jonathan Valvano and Daniel Valvano
// This is a starter project for the EE319K Lab 10

// Last Modified: 1/17/2020 
// http://www.spaceinvaders.de/
// sounds at http://www.classicgaming.cc/classics/spaceinvaders/sounds.php
// http://www.classicgaming.cc/classics/spaceinvaders/playguide.php
/* This example accompanies the books
   "Embedded Systems: Real Time Interfacing to Arm Cortex M Microcontrollers",
   ISBN: 978-1463590154, Jonathan Valvano, copyright (c) 2019
   "Embedded Systems: Introduction to Arm Cortex M Microcontrollers",
   ISBN: 978-1469998749, Jonathan Valvano, copyright (c) 2019
 Copyright 2019 by Jonathan W. Valvano, valvano@mail.utexas.edu
    You may use, edit, run or distribute this file
    as long as the above copyright notice remains
 THIS SOFTWARE IS PROVIDED "AS IS".  NO WARRANTIES, WHETHER EXPRESS, IMPLIED
 OR STATUTORY, INCLUDING, BUT NOT LIMITED TO, IMPLIED WARRANTIES OF
 MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE APPLY TO THIS SOFTWARE.
 VALVANO SHALL NOT, IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL,
 OR CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.
 For more information about my classes, my research, and my books, see
 http://users.ece.utexas.edu/~valvano/
 */
// ******* Possible Hardware I/O connections*******************
// Slide pot pin 1 connected to ground
// Slide pot pin 2 connected to PD2/AIN5
// Slide pot pin 3 connected to +3.3V 
// fire button connected to PE0
// special weapon fire button connected to PE1
// 8*R resistor DAC bit 0 on PB0 (least significant bit)
// 4*R resistor DAC bit 1 on PB1
// 2*R resistor DAC bit 2 on PB2
// 1*R resistor DAC bit 3 on PB3 (most significant bit)
// LED on PB4
// LED on PB5

// Backlight (pin 10) connected to +3.3 V
// MISO (pin 9) unconnected
// SCK (pin 8) connected to PA2 (SSI0Clk)
// MOSI (pin 7) connected to PA5 (SSI0Tx)
// TFT_CS (pin 6) connected to PA3 (SSI0Fss)
// CARD_CS (pin 5) unconnected
// Data/Command (pin 4) connected to PA6 (GPIO), high for data, low for command
// RESET (pin 3) connected to PA7 (GPIO)
// VCC (pin 2) connected to +3.3 V
// Gnd (pin 1) connected to ground

#include <stdint.h>
#include "../inc/tm4c123gh6pm.h"
#include "ST7735.h"
#include "Print.h"
#include "Random.h"
#include "PLL.h"
#include "ADC.h"
#include "Images.h"
#include "Sound.h"
#include "Timer0.h"
#include "Timer1.h"

void DisableInterrupts(void); // Disable interrupts
void EnableInterrupts(void);  // Enable interrupts
void Delay100ms(uint32_t count); // time delay in 0.1 seconds




const unsigned short Black[] = {
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,

};


//h30 w24
const unsigned short Tetris_Logo[] = {
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x9D5A, 0x6C15, 0x6C57, 0x6498, 0x64D9, 0x64D9, 0x64D9, 0x6CD7, 0x74B5, 0xA63B, 0xFFDF, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x8BAF, 0x4880, 0x7960, 0xAA00, 0xD280, 0xD280, 0xAA00, 0x7960, 0x5060, 0x9CB0, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x9C10, 0x99E0, 0x6980, 0x9200, 0xAA60, 0xAA60, 0x9200, 0x6980, 0xA1E0, 0xA511, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x9430, 0xBA40,
 0x5120, 0x6960, 0x71A0, 0x71A0, 0x6960, 0x5120, 0xC260, 0xA512, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x9431, 0xAA20, 0x5120, 0x40E0,
 0x4900, 0x4900, 0x40E0, 0x5940, 0xB220, 0xA512, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x8C31, 0x99C0, 0x5120, 0x30C0, 0x38C0, 0x38C0,
 0x30C0, 0x5120, 0xA1E0, 0x9CF2, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x8431, 0x8180, 0x4900, 0x30A0, 0x30C0, 0x30C0, 0x30A0, 0x4900,
 0x89A0, 0x8CB1, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x7C31, 0x7140, 0x40E0, 0x30A0, 0x30A0, 0x30A0, 0x30A0, 0x40E0, 0x7140, 0x8491,
 0x0000, 0xFFBE, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0xFFBE, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x8471, 0x60E0, 0x40C0, 0x3060, 0x3080, 0x30A0, 0x3080, 0x40C0, 0x6100, 0x84D3, 0x0000, 0x0000,
 0x0000, 0xF7FF, 0xEFDF, 0xF7FF, 0x0000, 0x0000, 0xFFBE, 0x0000, 0xFFBE, 0xF7DF, 0x0005, 0x00E9, 0x01F6, 0x01AF, 0x0944, 0x0236,
 0x0214, 0x0215, 0x09D2, 0x116F, 0x118C, 0x12D0, 0x19A8, 0x3060, 0x1204, 0x11E4, 0x3880, 0x20E3, 0x0187, 0x02AA, 0x0269, 0x49CF,
 0x5A11, 0x5190, 0x510F, 0x102B, 0xEFDF, 0xFFBE, 0x0000, 0xEFFF, 0x2060, 0x28C5, 0x015D, 0x10EF, 0x3840, 0x023F, 0x021D, 0x025F,
 0x027F, 0x027F, 0x1988, 0x04DF, 0x1290, 0x3020, 0x03CA, 0x0328, 0x3060, 0x3020, 0x02E7, 0x0328, 0x7BA0, 0xC1AE, 0xD193, 0xC991,
 0xC170, 0x60AB, 0xE7DF, 0x0000, 0x0000, 0xE7BF, 0x3903, 0x3906, 0x019F, 0x1131, 0x4080, 0x02FF, 0x02BC, 0x2924, 0x39A7, 0x3923,
 0x21A7, 0x05BF, 0x12F0, 0x3800, 0x04AC, 0x03EA, 0x3820, 0x1983, 0x048C, 0x03EA, 0xF480, 0x7208, 0x5964, 0x898B, 0xD234, 0x694D,
 0xDF7F, 0x0000, 0x0000, 0xD79F, 0x51E6, 0x4126, 0x019F, 0x1132, 0x4880, 0x039F, 0x033D, 0x4040, 0x38A0, 0x3880, 0x21E8, 0x06BF,
 0x1B50, 0x3800, 0x05F0, 0x04ED, 0x3800, 0x050D, 0x058F, 0x8C42, 0xF560, 0x4100, 0x30A0, 0xD2B5, 0xE2D7, 0x3966, 0xCF3F, 0x0000,
 0x0000, 0xCF7F, 0x72A8, 0x5166, 0x0A5F, 0x29B3, 0x4860, 0x3D7F, 0x451E, 0x18C1, 0x38A0, 0x38A0, 0x2A28, 0x87FF, 0x3BD1, 0x2800,
 0x6F79, 0x5DF3, 0x21E3, 0x7FBA, 0x4572, 0xB3E3, 0xFF4B, 0x4900, 0x8A0A, 0xF43B, 0xB28E, 0x5A04, 0xC71F, 0x0000, 0x0000, 0xCF5F,
 0x8B28, 0x71C6, 0x6CDF, 0x4A93, 0x4840, 0x665F, 0x86DF, 0x8FDF, 0x2925, 0x4880, 0x3A48, 0xA7FF, 0x4C11, 0x3800, 0x87FC, 0x6615,
 0x76B7, 0x9FFF, 0x2142, 0xC4E8, 0xFFF2, 0x40A0, 0xFDBD, 0xFE3F, 0x89A0, 0x7A66, 0xC73F, 0x0000, 0x0000, 0xCF7F, 0x7AC9, 0x61E9,
 0x8D9F, 0x4AD4, 0x2820, 0x7F1F, 0x767E, 0x31E5, 0x59A2, 0x51A0, 0x332B, 0xCFFF, 0x54D3, 0x3920, 0xA7FE, 0x7E56, 0x8ED8, 0x4348,
 0x5860, 0xB4A7, 0xE6ED, 0xAB6E, 0xFF5F, 0xB36E, 0xA1C0, 0x8A24, 0xDF5F, 0xFFFE, 0x0000, 0xE7BF, 0x53BA, 0x9DFF, 0xA5DF, 0xB69F,
 0x955F, 0x871F, 0xB7DF, 0xCFFF, 0x7D58, 0x85B5, 0xE7FF, 0xDFFF, 0xEFFF, 0x9F7F, 0xC7FE, 0xBFBE, 0x7E36, 0xBFFF, 0x6100, 0xDDCC,
 0xFFF6, 0xF617, 0xFFBF, 0xE5B9, 0xFE9E, 0x91C4, 0x869F, 0x9EDF, 0xFFBE, 0xEFDF, 0x42AF, 0x7435, 0x7455, 0x8495, 0x6BD3, 0x64D5,
 0x8555, 0x8D75, 0x9DB7, 0x5C93, 0xADF6, 0xADD6, 0xB5F6, 0x8D34, 0x9DB4, 0xADB6, 0xA5B6, 0x9DB6, 0x5B6A, 0xA3EA, 0xB571, 0x9BD0,
 0xAC95, 0xA495, 0xAC95, 0x61AC, 0xAEFF, 0xBF3E, 0x0000, 0xFFBE, 0xEFFF, 0xEFDF, 0xE7DF, 0xE7DF, 0xE7DF, 0xE7BF, 0xDF7F, 0xD75F,
 0xCF5F, 0xCF5F, 0xBEFF, 0xBEFF, 0xBEFF, 0xBF1F, 0xBEDF, 0xB6DF, 0xBEFF, 0xBEFF, 0xC6FF, 0xBEDF, 0xC6DF, 0xCF1F, 0xCEFF, 0xD71F,
 0xDF3F, 0xDF5F, 0xFFFE, 0x0000, 0x0000, 0x0000, 0xFFBE, 0xFFBE, 0x0000, 0x0000, 0xFFBE, 0xFFBE, 0x0000, 0x0000, 0xFFBE, 0xFFBE,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0xFFDF, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,


};



const unsigned short White[] = {
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,
 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF, 0xFFFF,


};



const unsigned short Yellowblock[] = {
 0x3F1C, 0x47FF, 0x47DF, 0x47DF, 0x47DF, 0x3F3C, 0x47FF, 0x47FF, 0x47FF, 0x47FF, 0x3F3C, 0x47FF, 0x47FF, 0x47FF, 0x47FF, 0x3F3C,
 0x47FF, 0x47FF, 0x47FF, 0x47FF, 0x3F3C, 0x47FF, 0x47FF, 0x47FF, 0x47FF,

};
const unsigned short Orangeblock[] = {
 0x039A, 0x041E, 0x041E, 0x041E, 0x039A, 0x03DC, 0x045F, 0x045F, 0x045F, 0x03DC, 0x03DC, 0x045F, 0x045F, 0x045F, 0x03DC, 0x03DC,
 0x045F, 0x045F, 0x045F, 0x03DC, 0x0379, 0x03FD, 0x03FD, 0x03FD, 0x0379,

};
const unsigned short Greenblock[] = {
 0x3626, 0x3F47, 0x3F27, 0x3F27, 0x3E87, 0x3EE7, 0x47E8, 0x47E8, 0x47E8, 0x3F47, 0x3EE7, 0x47E8, 0x47E8, 0x47E8, 0x3F47, 0x3EE7,
 0x47E8, 0x47E8, 0x47E8, 0x3F47, 0x35E6, 0x3F07, 0x3EE7, 0x3F07, 0x3646,

};
const unsigned short Sblueblock[] = {
 0xE727, 0xFFE8, 0xFFE8, 0xFFE8, 0xDEE7, 0xE727, 0xFFE8, 0xFFE8, 0xFFE8, 0xDEE7, 0xE727, 0xFFE8, 0xFFE8, 0xFFE8, 0xDEE7, 0xEF67,
 0xFFE8, 0xFFE8, 0xFFE8, 0xE727, 0xCE66, 0xEF47, 0xE707, 0xEF47, 0xC626,

};

const unsigned short Purpleblock[] = {
 0xD1DA, 0xE9FD, 0xE9FD, 0xE9FD, 0xD9DB, 0xE9FD, 0xFA3F, 0xFA3F, 0xFA3F, 0xF21E, 0xE9FD, 0xFA3F, 0xFA3F, 0xFA3F, 0xF1FE, 0xE9FD,
 0xFA3F, 0xFA3F, 0xFA3F, 0xF21E, 0xC9B9, 0xE1FC, 0xE1FC, 0xE1FC, 0xD1DA,

};




struct Figures{
uint8_t x;
uint8_t y;
const unsigned short *image;
uint8_t w;
uint8_t h;
uint8_t o;
};

typedef struct Figures Figure_t;
struct Allshapes{
	
	Figure_t J1[4];
};

typedef struct Allshapes Figures_t;

Figure_t J[4] = {
{30,5,Yellowblock,5,5,0},
{35,5,Yellowblock,5,5,0},
{35,5,Yellowblock,5,5,1},
{35,5,Yellowblock,5,5,2}
};
Figures_t AllShapes[28] = {
//J Figure
{{{30,5,Orangeblock,5,5,0},{35,5,Orangeblock,5,5,0},{35,5,Orangeblock,5,5,1},{35,5,Orangeblock,5,5,2}}},
{{{30,5,Orangeblock,5,5,0},{35,5,Orangeblock,5,5,0},{40,5,Orangeblock,5,5,0},{30,5,Orangeblock,5,5,1}}},
{{{30,5,Orangeblock,5,5,0},{30,5,Orangeblock,5,5,1},{30,5,Orangeblock,5,5,2},{35,5,Orangeblock,5,5,2}}},
{{{40,5,Orangeblock,5,5,0},{30,5,Orangeblock,5,5,1},{35,5,Orangeblock,5,5,1},{40,5,Orangeblock,5,5,1}}},
//L Figure
{{{30,5,Orangeblock,5,5,0},{35,5,Orangeblock,5,5,0},{30,5,Orangeblock,5,5,1},{30,5,Orangeblock,5,5,2}}},
{{{30,5,Orangeblock,5,5,0},{30,5,Orangeblock,5,5,1},{35,5,Orangeblock,5,5,1},{40,5,Orangeblock,5,5,1}}},
{{{35,5,Orangeblock,5,5,0},{35,5,Orangeblock,5,5,1},{30,5,Orangeblock,5,5,2},{35,5,Orangeblock,5,5,2}}},
{{{30,5,Orangeblock,5,5,0},{35,5,Orangeblock,5,5,0},{40,5,Orangeblock,5,5,0},{40,5,Orangeblock,5,5,1}}},
//S Figure
{{{30,5,Greenblock,5,5,0},{35,5,Greenblock,5,5,0},{35,5,Greenblock,5,5,1},{40,5,Greenblock,5,5,1}}},
{{{35,5,Greenblock,5,5,0},{30,5,Greenblock,5,5,1},{35,5,Greenblock,5,5,1},{30,5,Greenblock,5,5,2}}},
{{{30,5,Greenblock,5,5,0},{35,5,Greenblock,5,5,0},{35,5,Greenblock,5,5,1},{40,5,Greenblock,5,5,1}}},
{{{35,5,Greenblock,5,5,0},{30,5,Greenblock,5,5,1},{35,5,Greenblock,5,5,1},{30,5,Greenblock,5,5,2}}},
//Z Figure
{{{35,5,Greenblock,5,5,0},{40,5,Greenblock,5,5,0},{30,5,Greenblock,5,5,1},{35,5,Greenblock,5,5,1}}},
{{{30,5,Greenblock,5,5,0},{30,5,Greenblock,5,5,1},{35,5,Greenblock,5,5,1},{35,5,Greenblock,5,5,2}}},
{{{35,5,Greenblock,5,5,0},{40,5,Greenblock,5,5,0},{30,5,Greenblock,5,5,1},{35,5,Greenblock,5,5,1}}},
{{{30,5,Greenblock,5,5,0},{30,5,Greenblock,5,5,1},{35,5,Greenblock,5,5,1},{35,5,Greenblock,5,5,2}}},
//T Figure
{{{35,5,Purpleblock,5,5,0},{30,5,Purpleblock,5,5,1},{35,5,Purpleblock,5,5,1},{40,5,Purpleblock,5,5,1}}},
{{{30,5,Purpleblock,5,5,0},{30,5,Purpleblock,5,5,1},{35,5,Purpleblock,5,5,1},{30,5,Purpleblock,5,5,2}}},
{{{30,5,Purpleblock,5,5,0},{35,5,Purpleblock,5,5,0},{40,5,Purpleblock,5,5,0},{35,5,Purpleblock,5,5,1}}},
{{{35,5,Purpleblock,5,5,0},{30,5,Purpleblock,5,5,1},{35,5,Purpleblock,5,5,1},{35,5,Purpleblock,5,5,2}}},
//I Figure	
{{{30,5,Sblueblock,5,5,0},{30,5,Sblueblock,5,5,1},{30,5,Sblueblock,5,5,2},{30,5,Sblueblock,5,5,3}}},
{{{30,5,Sblueblock,5,5,0},{35,5,Sblueblock,5,5,0},{40,5,Sblueblock,5,5,0},{45,5,Sblueblock,5,5,0}}},
{{{30,5,Sblueblock,5,5,0},{30,5,Sblueblock,5,5,1},{30,5,Sblueblock,5,5,2},{30,5,Sblueblock,5,5,3}}},
{{{30,5,Sblueblock,5,5,0},{35,5,Sblueblock,5,5,0},{40,5,Sblueblock,5,5,0},{45,5,Sblueblock,5,5,0}}},
//Cube Figure	
{{{30,5,Yellowblock,5,5,0},{35,5,Yellowblock,5,5,0},{30,5,Yellowblock,5,5,1},{35,5,Yellowblock,5,5,1}}},
{{{30,5,Yellowblock,5,5,0},{35,5,Yellowblock,5,5,0},{30,5,Yellowblock,5,5,1},{35,5,Yellowblock,5,5,1}}},
{{{30,5,Yellowblock,5,5,0},{35,5,Yellowblock,5,5,0},{30,5,Yellowblock,5,5,1},{35,5,Yellowblock,5,5,1}}},
{{{30,5,Yellowblock,5,5,0},{35,5,Yellowblock,5,5,0},{30,5,Yellowblock,5,5,1},{35,5,Yellowblock,5,5,1}}},
};



Figure_t Copy2[500];
Figure_t AddCoordinates3[500];
Figure_t Copy3[500];

 
 uint8_t ScreenInt;

void SysTick_Init(void){
	NVIC_ST_CTRL_R = 0;
	NVIC_ST_RELOAD_R = 2666667;
	NVIC_ST_CURRENT_R = 0x0;
	NVIC_ST_CTRL_R |= 0x07;
	ScreenInt = 0;
}
uint16_t Refresh = 0;

void SysTick_Handler(void){
	GPIO_PORTF_DATA_R ^= 0x02;
	ScreenInt = 1; 
	Refresh = (Refresh+1)%15;
}
uint16_t ADCMail;
uint16_t ADCMail1;
uint8_t ADCStatus;
uint8_t ADCStatus1;
uint32_t data[2];

void JoystickIn (void){
ADC_In2(data);
ADCMail = data[1];
ADCMail1 = data[0];
ADCStatus = 1;
ADCStatus1 = 1;
//ADCMail = ADC_In();
}

uint16_t Random4(void){
return (Random()%4);
}

uint16_t Random28(void){
return (Random()%28);
}

void Joystick_Init(void){
	ADC_Init();
	Timer1_Init(&JoystickIn, 80000000/11000);
	ADCStatus = 0;
}


//uint16_t i; 
//uint16_t j;
//uint16_t o;
//uint16_t p;




uint8_t Speed;
	uint8_t Language;

void Startscreen(void){ADC0_ACTSS_R;
	ST7735_FillScreen(0x0000);
	uint32_t Bruh = GPIO_PORTC_DATA_R;
	
	ST7735_OutString("Language/Idioma \nEnglish    Espa\xA4ol");	
	ST7735_DrawBitmap(55,80, Tetris_Logo, 30, 24);
	  while((Bruh & 0x10) == 0){
			Bruh = GPIO_PORTC_DATA_R;
			//while(ADCStatus == 0){}
			//ADCStatus = 0;
			if((ADCMail & 0x0FFF) < 1024){
				ST7735_DrawBitmap(0,20, White, 40, 1); 
				ST7735_DrawBitmap(65,20, Black, 40, 1);
				Language = 0;
			}
			if((ADCMail & 0x0FFF) > 3072){
				ST7735_DrawBitmap(65,20, White, 40, 1);
				ST7735_DrawBitmap(0,20, Black, 40, 1); 
				Language = 1;
			}; 
		}
		
	//Use button so that NVIC_ST_CURRENT_R doesn't have the same value each time
	while((GPIO_PORTC_DATA_R & 0x10) == 16){}; 
		
}



void Gamescreen(void){
	ST7735_FillScreen(0x000);
	//ST7735_DrawBitmap(111, 0, Black, 3, 23);
  //ST7735_DrawBitmap(zgreen[j].x, zgreen[j].y, zgreen[j].image[i],zgreen[j].w[i], zgreen[j].h[i] );
	if(Language == 0){
	ST7735_SetCursor(15,0);
	ST7735_OutString("Score");
	ST7735_SetCursor(17,1);
	LCD_OutDec(0);
	ST7735_SetCursor(15,6);
	ST7735_OutString("Next");
	ST7735_DrawBitmap(81,160,White,1,160);
	}
	else{
	ST7735_SetCursor(14,0);
	ST7735_OutString("Puntos");
	ST7735_SetCursor(14,6);
	ST7735_OutString("Sig.");
	ST7735_SetCursor(14,7);
	ST7735_OutString("Pieza");
	ST7735_DrawBitmap(81,160,White,1,160);
	}
}



void Ports_init(void){ 
	SYSCTL_RCGCGPIO_R |= 0x34;
	uint32_t delay = SYSCTL_RCGCGPIO_R;
	GPIO_PORTE_DIR_R &= ~0x03;
	GPIO_PORTE_DEN_R |= 0x03;
	GPIO_PORTC_DIR_R &= ~0x30;
	GPIO_PORTC_DEN_R |= 0x30;
	GPIO_PORTF_DIR_R |= 0x02;
	GPIO_PORTF_DEN_R |= 0x02;
}

int16_t ti;//Inital value of t before entering MakeCopy
int16_t t = 0;


void MakeCopy(int16_t i,int16_t j){
 ti = t;
 i = 0;
 while(i<4){
	Copy2[t].x = AllShapes[j].J1[i].x;
	Copy2[t].y = AllShapes[j].J1[i].y;
	Copy2[t].image = AllShapes[j].J1[i].image;
	Copy2[t].o = AllShapes[j].J1[i].o;
	t++;
	i++;
 }
}	

void Delete3(int8_t i,int16_t t){
	while(i>=0){
   ST7735_DrawBitmap(Copy2[t].x, Copy2[t].y, Black, 5,5);
   i--;
	 t--;
	}
}



void Delete4(int16_t t){
  int8_t i = 4;
	while(i>0){
		i--;
		t--;
   ST7735_DrawBitmap(Copy2[t].x,Copy2[t].y, Black, 5,5);
	}
}


void DrawSprite(int8_t i,uint8_t counter){ 
	t = ti;
	while(i<4){
		if(Copy2[t].o <= counter){
			ST7735_DrawBitmap(Copy2[t].x,Copy2[t].y, Copy2[t].image,5,5);
			t++;
			i++;
		}
		else{			
	    t--;
		  i--;
			Delete3(i,t);
			while(i>=0){
			Copy2[t].y += 5;
				i--;
				t--;
			}	
		 counter++;
		}
		if(i<0){
		i=0;
		t = ti;
		}
	}
}

uint16_t ACcounter = 0;
void AddCoordinates2(uint16_t t){
int8_t i = 4;
	while(i > 0){
  t--;
	i--;	
  AddCoordinates3[ACcounter].x = Copy2[t].x;
  AddCoordinates3[ACcounter].y = Copy2[t].y;
	ACcounter++;
	}
}

void AddCoordinates4(uint16_t t){
  AddCoordinates3[ACcounter].x = Copy2[t].x;
  AddCoordinates3[ACcounter].y = Copy2[t].y;
	ACcounter++;
}
	
uint16_t CheckCoordinates2(uint16_t t){
	int16_t m,i;
	i = 4;
  while(i>0){
		 i--;
		 t--;
		m = ACcounter;
		while(m>0){
			m--;
			if((AddCoordinates3[m].x <= Copy2[t].x) && (Copy2[t].x < (AddCoordinates3[m].x + 5))){
				if(Copy2[t].y == (AddCoordinates3[m].y - 5)){
				 return 1;
				}
			}
		
		}
	}
	return 0;
}

uint16_t Checkcoordinates3(uint16_t t){
	int16_t m,i;
	i = 4;
  while(i>0){
		 i--;
		 t--;
		m = ACcounter;
		while(m>0){
			m--;
			if((AddCoordinates3[m].x <= (Copy2[t].x)) && ((Copy2[t].x) < (AddCoordinates3[m].x + 5))){
				if((Copy2[t].y + Speed) == (AddCoordinates3[m].y - 5)){
				 return 1;
				}
			}		
		}
	}
	return 0;
}

uint16_t CheckCoordinates4(uint16_t t){
	int16_t m,i;
	i = 4;
  while(i>0){
		 i--;
		 t--;
		m = ACcounter;
		while(m>0){
			m--;
			if((Copy2[t].y <= (AddCoordinates3[m].y)) && ( Copy2[t].y > (AddCoordinates3[m].y - 11))){
				if((AddCoordinates3[m].x <= (Copy2[t].x+10)) && ((Copy2[t].x+10) <= (AddCoordinates3[m].x + 5))){
				 return 1;
					}
				}
			}
		
		}
	return 0;
}

uint16_t CheckCoordinates5(uint16_t t){
	int16_t m,i;
	i = 4;
  while(i>0){
		 i--;
		 t--;
		m = ACcounter;
		while(m>0){
			m--;
			if((Copy2[t].y <= (AddCoordinates3[m].y)) && ( Copy2[t].y > (AddCoordinates3[m].y - 11))){
				if((AddCoordinates3[m].x <= (Copy2[t].x-5)) && ((Copy2[t].x -5) <= (AddCoordinates3[m].x + 5))){
				 return 1;
					}
				}
			}
		
		}
	return 0;
}

void FinishScreen(void){
	ST7735_FillScreen(0x0000);
	ST7735_SetCursor(0,0);
	if(Language == 0){
		ST7735_OutString("Game Over");
		}
 else{
		ST7735_OutString("Has perdido pendejo");
			}
  while(1){}
}

int16_t Speed2;

int8_t Ymovement2(int16_t t){ int16_t t2,t3;
	int8_t i = 4;
	t3 = t;
	t2 = ti;
	Speed = Speed2;
	if(Refresh == 0){
	
	if(((GPIO_PORTC_DATA_R&0x20) == 0x20)){
		if((Copy2[t2].y != 155) && (Checkcoordinates3(t) ==0)){
		 Speed2 = Speed;
		 Speed += 5;
		}
		else{
		Speed = Speed2;	
		}
	}
	else{
	Speed = Speed2;
	}
	if(Checkcoordinates3(t) == 1){
	Speed2 = Speed;
	Speed = 5;
	}
	else{
	Speed = Speed2;
	}
	if(CheckCoordinates2(t) == 0x01){
		t--;
		if(Copy2[t].y == 5){
		 FinishScreen();
		} 
		i = 1;
	 
	}
	else{
		if(Copy2[t2].y >= 160){
		i = 1;
		}
		else{
			while(i>0){
				i--;
				t--;
				Copy2[t].y += Speed;
			}
		}
	return i;
	}
}
	return i;
}



void Draw2(int16_t j){
	int8_t i = 4;
	while(i>0){
		i--;
		j--;
		ST7735_DrawBitmap(Copy2[j].x, Copy2[j].y, Copy2[j].image, 5, 5);
	}
}
uint32_t Dab;
int8_t Rotation(int16_t i, int16_t j, int16_t p){ int16_t counter3,t2;
	if((Dab & 0x10) == 0x10){
		Dab = 0;
		uint16_t r,s;
		p = ti;
		i = 0;
		uint16_t counter = 0;
		int16_t Diffx,Diffy;
		Diffx = Copy2[p].x -  AllShapes[j].J1[i].x;
		Diffy = Copy2[p].y -  AllShapes[j].J1[i].y;
		s = j%4;
		s = (s+1)%4;
		j = ((j/4)*4)+s;
		t = ti;
		MakeCopy(i,j);
		DrawSprite(i,counter);
		Delete4(t);
		i = 4;
		j = t;
		while(i>0){
			i--;
			j--;
			Copy2[j].y = Diffy + Copy2[j].y;
			Copy2[j].x = Diffx + Copy2[j].x;
		}
		while(GPIO_PORTC_DATA_R == 0x10){}
		return 1;
	}
	else{
		return 0;
	}
}
void Xmovement2(uint16_t i, uint16_t t){
	  i = 4;
		int16_t t2 = t;
	  int8_t i2, counter2;
	 counter2 = 0;
	  i2 = 4;
	//if(CheckCoordinates2(t) == 1){
		if((CheckCoordinates5(t) == 1)){
			
	}else{
		if((ADCMail & 0x0FFF) < 1024){
			while(i2>0){
				i2--;
				t2--;
			if(((Copy2[t2].x) == 0) || ((Copy2[t2].y) >= 150 )){
				counter2 = 1;
			}
		}
			if(counter2==0){
			 while(i>0){
				i--;
				t--;
				Copy2[t].x -= 5;

			}
		}
	}
}
	
	i2 = 4;
	t2 = t;
	if((CheckCoordinates4(t) == 1)){;
	}else{
	if((ADCMail & 0x0FFF) > 3072){
		while(i2>0){
				i2--;
				t2--;
			if((Copy2[t2].x + 5) > 79){
				counter2 = 1;
			}
		}			
	if(counter2 == 0){
			 while(i>0){
				i--;
				t--;
				Copy2[t].x += 5;
			}
		}
	}
}
}			

int16_t z = 0;
int16_t zi;
void MakeCopy2(int16_t i, int16_t q){
 zi = z;
 i = 0;
 while(i<4){
	Copy3[z].x = AllShapes[q].J1[i].x + 65;
	Copy3[z].y = AllShapes[q].J1[i].y + 40;
	Copy3[z].image = AllShapes[q].J1[i].image;
	Copy3[z].o = AllShapes[q].J1[i].o;
	z++;
	i++;
 }
}

void Delete5(int8_t i,int16_t z){
	while(i>=0){
   ST7735_DrawBitmap(Copy3[z].x, Copy3[z].y, Black, 5,5);
   i--;
	 z--;
	}
}

void DrawSprite2(int8_t i,uint8_t counter){ 
	z = zi;
	while(i<4){
		if(Copy3[z].o <= counter){
			ST7735_DrawBitmap(Copy3[z].x,Copy3[z].y, Copy3[z].image,5,5);
			z++;
			i++;
		}
		else{			
	    z--;
		  i--;
			Delete5(i,z);
			while(i>=0){
			Copy3[z].y += 5;
				i--;
				z--;
			}	
		 counter++;
		}
		if(i<0){
		i=0;
		z = zi;
		}
	}
}

void Delete6(int16_t q){
  int8_t i = 4;
	while(i>0){
		i--;
		q--;
   ST7735_DrawBitmap(Copy3[q].x,Copy3[q].y, Black, 5,5);
	}
}

int16_t Score;
void deletedline(int16_t j){int16_t t2, i;
t2 = t;
ACcounter = 0;
	while(t2>0){
		t2--;
		if(Copy2[t2].y == j){
		  Copy2[t2].y = 170;		
		}		
	}
	t2 = t;
	while(t2>0){
		t2--;
		if(Copy2[t2].y > j){}
		else{
			ST7735_DrawBitmap(Copy2[t2].x,Copy2[t2].y,Black,5,5);
		}
	}
	t2 = t;
		while(t2>0){
		t2--;
		if(Copy2[t2].y > j){
		AddCoordinates4(t2);
		}
		else{
		Copy2[t2].y += 5;
		AddCoordinates4(t2);
		}
	}
	t2 = t;
		while(t2>0){
		t2--;
		ST7735_DrawBitmap(Copy2[t2].x,Copy2[t2].y,Copy2[t2].image,5,5);	
	}	
	Score+=1;
	ST7735_SetCursor(16,1);
	LCD_OutDec(Score);
	if((Score%1)==0){
	 Speed += 5;
	}
}



int16_t Checklastline(){int16_t t2,blocks,x,i;
	t2 = t;
	x = 0;
	i = 160;
	blocks = 0;
	while(i>5){
	blocks = 0;
	t2 = t;
		while(t2>0){
			t2--;
			if(Copy2[t2].y == i){
				blocks++;		
			}


		}
		if(blocks == 16){
			ST7735_DrawBitmap(0,i,Black,80,5);	
			deletedline(i);
			x = 1;
		}
	i--;
	}
	return x;
}


//j counter for general struct, i for struct inside a struct, t for Copy struct
int main(void){
	DisableInterrupts();
	
	PLL_Init(Bus80MHz);
	Ports_init();
	SysTick_Init();
	Output_Init();
	EnableInterrupts();
	Sound_Init();
	Joystick_Init();
	//Startscreen();
  Random_Init(NVIC_ST_CURRENT_R);
	
	int16_t i,j,q;
	i=0;
	j=Random28();
	q = Random28();
	uint16_t BRE = 0;
	
	uint8_t counter = 0;
	
	Gamescreen();
	
	MakeCopy(i,j);
	MakeCopy2(i,q);
	
	DrawSprite(i,counter);
	counter = 0;
	DrawSprite2(i,counter);
	
	Speed = 5;
	Speed2 = Speed;
	
	Score = 0;
	while(1){
		while(ScreenInt  == 0){};
		ScreenInt = 0;
		Dab = GPIO_PORTC_DATA_R;
			if( BRE ==1){
				Dab = 0;
				if(Refresh == 0){
					BRE = 0;
				}
			}
			if((Dab & 0x10) == 0x10){
				BRE = 1;
			}
			
		//if(BRE == 1){
		//	while(Refresh != 0){}
			Delete4(t);
		//	BRE = 0;
		//}
		if(Rotation(i,j,t)==1){
			uint16_t s;
			s = j%4;
			s = (s+1)%4;
			j = ((j/4)*4)+s;
			
		}
		//if(Refresh == 0)
			//{
				//Delete4(t);
		if(Ymovement2(t) == 1)
			{//If sprite has stopped, create a new one, and add coordiantes to database
			Draw2(t);
			AddCoordinates2(t);
			Checklastline();
			Delete6(z);
			j = q;
			q = Random28();
			i=0;
			counter = 0;
			MakeCopy(i,j);
			MakeCopy2(i,q);
			DrawSprite(i,counter);
			counter = 0;
			i = 0;
			DrawSprite2(i,counter);
		}	
    Xmovement2(i,t);		
	  Draw2(t);
		
	//}
	}
}

// You can't use this timer, it is here for starter code only 
// you must use interrupts to perform delays
//void Delay100ms(uint32_t count){uint32_t volatile time;
//  while(count>0){
//    time = 727240;  // 0.1sec at 80 MHz
//    while(time){
//	  	time--;
//    }
//    count--;
//  }
//}
//typedef enum {English, Spanish, Portuguese, French} Language_t;
//Language_t myLanguage=English;
//typedef enum {HELLO, GOODBYE, LANGUAGE} phrase_t;
//const char Hello_English[] ="Hello";
//const char Hello_Spanish[] ="\xADHola!";
//const char Hello_Portuguese[] = "Ol\xA0";
//const char Hello_French[] ="All\x83";
//const char Goodbye_English[]="Goodbye";
//const char Goodbye_Spanish[]="Adi\xA2s";
//const char Goodbye_Portuguese[] = "Tchau";
//const char Goodbye_French[] = "Au revoir";
//const char Language_English[]="English";
//const char Language_Spanish[]="Espa\xA4ol";
//const char Language_Portuguese[]="Portugu\x88s";
//const char Language_French[]="Fran\x87" "ais";
//const char *Phrases[3][4]={
//  {Hello_English,Hello_Spanish,Hello_Portuguese,Hello_French},
//  {Goodbye_English,Goodbye_Spanish,Goodbye_Portuguese,Goodbye_French},
//  {Language_English,Language_Spanish,Language_Portuguese,Language_French}
//};
//int main(void){char l; 
//  PLL_Init(Bus80MHz);              	// set system clock to 80 MHz
//  ST7735_InitR(INITR_REDTAB);
//  ST7735_OutString("LanguageTest\n");
//  for(phrase_t myPhrase=HELLO; myPhrase<= GOODBYE; myPhrase++){
//    for(Language_t myL=English; myL<= French; myL++){
//    	ST7735_OutString((char *)Phrases[LANGUAGE][myL]);
//      ST7735_OutChar(' ');
//    	ST7735_OutString((char *)Phrases[myPhrase][myL]);
//      ST7735_OutChar(13);
//      }
//    }
//    l = 128;
//    ST7735_OutString("Extended ASCII\n");
//    while(1){
//   	ST7735_FillScreen(0);
//	for(int i=0;i<16;i++){
//        ST7735_SetCursor(0,i);
//  	  ST7735_OutUDec(l);
//  	  ST7735_OutChar(' ');
//  	  ST7735_OutChar(l);
//        l++;
//    }
//  }  
//}
